# Hyprland Configuration
# https://wiki.hypr.land/Configuring/

# ==================
# MONITOR CONFIG
# ==================
# Monitors from existing configuration
monitor=,preferred,auto,auto

monitor = , preferred,auto,auto

# ==================
# STARTUP APPS
# ==================
exec-once = dbus-update-activation-environment --systemd --all
exec-once = systemctl --user start hyprland-session.target

# ==================
# INPUT CONFIG
# ==================
input {
    kb_layout = us
    numlock_by_default = true
}

# ==================
# GENERAL LAYOUT
# ==================
general {
    gaps_in = 5
    gaps_out = 5
    border_size = 2

    layout = dwindle
}

# ==================
# DECORATION
# ==================
decoration {
    rounding = 12

    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        enabled = true
        range = 30
        render_power = 5
        offset = 0 5
        color = rgba(00000070)
    }

# ==================
# BLUR EFFECTS
# ==================
    blur {
        enabled = true
        size = 4
        passes = 2
      


        contrast = 1.2 
        popups = true
        popups_ignorealpha = 0.6
        special = true
        xray = false
        new_optimizations = true
    }
}

# =============
# ==================
# ANIMATIONS
# ==================
animations {
    enabled = true

    animation = windowsIn, 1, 3, default
    animation = windowsOut, 1, 3, default
    animation = workspaces, 1, 5, default
    animation = windowsMove, 1, 4, default
    animation = fade, 1, 3, default
    animation = border, 1, 3, default
}
 


# ==================
# LAYOUTS
# ==================
dwindle {
    preserve_split = true
}

master {
    mfact = 0.5
}

# ==================
# MISC
# ==================
misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vrr = 1
}

# ==================
# WINDOW RULES
# ==================
windowrule = tile on, match:class ^(org\.wezfurlong\.wezterm)$

windowrule = rounding 12, match:class ^(org\.gnome\.)

windowrule = tile on, match:class ^(gnome-control-center)$
windowrule = tile on, match:class ^(pavucontrol)$
windowrule = tile on, match:class ^(nm-connection-editor)$

windowrule = float on, match:class ^(gnome-calculator)$
windowrule = float on, match:class ^(galculator)$
windowrule = float on, match:class ^(blueman-manager)$
windowrule = float on, match:class ^(org\.gnome\.Loupe)$
windowrule = float on, match:class ^(org\.gnome\.Showtime)$
windowrule = float on, match:class ^(org\.gnome\.Calculator)$
windowrule = float on, match:class ^(xdg-desktop-portal)$
windowrule = opacity 0.9, match:class ^(vesktop)$

windowrule = float on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$
windowrule = float on, match:class ^(zoom)$

# DMS windows floating by default
# ! Hyprland doesn't size these windows correctly so disabling by default here
# windowrule = float on, match:class ^(org.quickshell)$

layerrule = no_anim on, match:namespace ^(quickshell)$


# ===================
# BARS & UI ELEMENT
# ===================

# DankBar
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:bar)$

# Dock
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:dock)$

# Workspace Overview
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:workspace-overview)$

# Notification Popup
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:notification-popup)$

# OSD (Volume/Brightness)
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:osd)$

# Slideout
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:slideout)$

# Tooltip
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:tooltip)$

# Dock Context Menu
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dock-context-menu)$

# Toast
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:toast)$

# Tray Menu Window
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:tray-menu-window)$


# =======
# POPUPS
# =======

# App Launcher
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:app-launcher)$

# Control Center
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:control-center)$

# Battery
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:battery)$

# VPN
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:vpn)$

# DankDash
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:dash)$

# Notification Center
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:notification-center-popout)$

# Process List
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(dms:process-list-popout)$

# ================
# DESKTOP WIDGETS
# ================

# Media Frame
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(quickshell:desktop-widget:mediaFrame:dw_1771257046389_jcc22hsuy)$

# Clock Widget
layerrule = blur on, ignore_alpha 0.1, match:namespace ^(quickshell:desktop-widget:desktopClock:dw_1771256716394_0i6ynb8xv)$

source = ./dms/colors.conf
source = ./dms/outputs.conf
source = ./dms/layout.conf
source = ./dms/cursor.conf
source = ./dms/binds.conf
